[gd_scene load_steps=14 format=4 uid="uid://ctjn7vv4g46p1"]

[ext_resource type="Script" path="res://scripts/world.gd" id="1_0icie"]
[ext_resource type="Shader" path="res://assets/shaders/blur.gdshader" id="1_w2dep"]
[ext_resource type="Texture2D" uid="uid://broerempmd23h" path="res://assets/sprites/bg/orig.png" id="1_wxtk1"]
[ext_resource type="TileSet" uid="uid://b6o170j5qhgme" path="res://assets/tile_set.tres" id="2_eidu2"]
[ext_resource type="Script" path="res://scripts/tilemap_collision_baker.gd" id="2_nwej5"]
[ext_resource type="PackedScene" uid="uid://c3476unw0lac2" path="res://scenes/player.tscn" id="2_udcp7"]
[ext_resource type="Script" path="res://scripts/mini_game_manager.gd" id="3_0x8ty"]
[ext_resource type="PackedScene" path="res://scenes/hill.tscn" id="3_tiyjl"]
[ext_resource type="Script" path="res://scripts/game_manager.gd" id="4_ua0r1"]
[ext_resource type="FontFile" uid="uid://clpl6gyewcnpy" path="res://assets/fonts/joystix monospace.otf" id="7_oqpe0"]
[ext_resource type="PackedScene" path="res://scenes/player_ui.tscn" id="11_63vnd"]
[ext_resource type="AudioStream" uid="uid://b0l8c8d0a3erb" path="res://assets/sounds/Music/Climb.mp3" id="12_dre1w"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_myl8h"]
shader = ExtResource("1_w2dep")
shader_parameter/lod = 2.927

[node name="Main" type="Node"]

[node name="World" type="Node2D" parent="."]
script = ExtResource("1_0icie")

[node name="BG" type="Sprite2D" parent="World"]
self_modulate = Color(0.398966, 0.494496, 0.690104, 1)
position = Vector2(0, -1)
scale = Vector2(2.75, 2.75)
texture = ExtResource("1_wxtk1")

[node name="Blur" type="ColorRect" parent="World/BG"]
material = SubResource("ShaderMaterial_myl8h")
offset_left = -289.0
offset_top = -161.0
offset_right = 288.0
offset_bottom = 164.0

[node name="SpawnPoints" type="Node2D" parent="World"]

[node name="Marker2D" type="Marker2D" parent="World/SpawnPoints"]
position = Vector2(171, 22)

[node name="Marker2D2" type="Marker2D" parent="World/SpawnPoints"]
position = Vector2(-325, -32)

[node name="Marker2D3" type="Marker2D" parent="World/SpawnPoints"]
position = Vector2(-224, 64)

[node name="Marker2D4" type="Marker2D" parent="World/SpawnPoints"]
position = Vector2(327, 108)

[node name="Hill" parent="World" instance=ExtResource("3_tiyjl")]
collision_mask = 5
capture_duration = 3.0
capture_amount = 0.0

[node name="Map" type="TileMapLayer" parent="World"]
tile_map_data = PackedByteArray("AAD//wIAAAABAAEAAAAAAAIAAAABAAEAAAABAAIAAAABAAEAAAACAAIAAAABAAEAAAABAAMAAAABAAEAAAACAAMAAAABAAEAAAAAAAMAAAABAAEAAAD//wMAAAABAAEAAAADAAMAAAABAAEAAAAAAAQAAAABAAEAAAD//wQAAAABAAEAAAD+/wMAAAABAAEAAAD+/wQAAAABAAEAAAADAAIAAAABAAEAAAAEAAIAAAABAAEAAAAEAAEAAAABAAEAAAADAAEAAAABAAEAAAAEAAMAAAABAAEAAAAFAAMAAAABAAEAAAAGAAMAAAABAAEAAAAGAAQAAAABAAEAAAAFAAQAAAABAAEAAAAEAAQAAAABAAEAAAAFAAIAAAABAAEAAAAGAAIAAAABAAEAAAAHAAMAAAADAAEAAAAHAAQAAAADAAIAAAAHAAUAAAABAAEAAAAGAAUAAAABAAEAAAAIAAUAAAABAAEAAAAJAAUAAAABAAEAAAAJAAQAAAABAAAAAAAIAAQAAAAEAAIAAAAcABAAAAACAAIAAAAcAA8AAAACAAEAAAAcAA4AAAACAAEAAAAcAA0AAAACAAEAAAAcAAwAAAACAAAAAAAbABAAAAAEAAAAAAAbAA8AAAABAAEAAAAbAA4AAAABAAEAAAAbAA0AAAABAAEAAAAbAAwAAAABAAAAAAAaABAAAAABAAIAAAAaAA8AAAABAAEAAAAaAA4AAAABAAEAAAAaAA0AAAABAAEAAAAaAAwAAAABAAAAAAAZABAAAAABAAIAAAAZAA8AAAABAAEAAAAZAA4AAAABAAEAAAAZAA0AAAABAAEAAAAZAAwAAAABAAAAAAAYABAAAAABAAIAAAAYAA8AAAABAAEAAAAYAA4AAAABAAEAAAAYAA0AAAABAAEAAAAYAAwAAAADAAIAAAAYAAsAAAACAAEAAAAYAAoAAAACAAAAAAAYAAkAAAAIAAIAAAAXABAAAAAEAAAAAAAXAA8AAAABAAEAAAAXAA4AAAABAAEAAAAXAA0AAAABAAEAAAAXAAwAAAABAAEAAAAXAAsAAAABAAEAAAAXAAoAAAAEAAIAAAAXAAkAAAAHAAIAAAAWABAAAAABAAIAAAAWAA8AAAABAAEAAAAWAA4AAAABAAEAAAAWAA0AAAABAAEAAAAWAAwAAAABAAEAAAAWAAsAAAABAAEAAAAWAAoAAAAEAAIAAAAWAAkAAAAHAAIAAAAVABAAAAAEAAAAAAAVAA8AAAABAAEAAAAVAA4AAAABAAEAAAAVAA0AAAABAAEAAAAVAAwAAAABAAEAAAAVAAsAAAABAAEAAAAVAAoAAAABAAAAAAAVAAkAAAAGAAIAAAAUABAAAAAEAAAAAAAUAA8AAAABAAEAAAAUAA4AAAABAAEAAAAUAA0AAAABAAEAAAAUAAwAAAABAAEAAAAUAAsAAAABAAEAAAAUAAoAAAADAAIAAAAUAAkAAAACAAAAAAATABAAAAAEAAAAAAATAA8AAAABAAEAAAATAA4AAAABAAEAAAATAA0AAAABAAEAAAATAAwAAAABAAEAAAATAAsAAAABAAEAAAATAAoAAAABAAEAAAATAAkAAAAEAAIAAAASABAAAAAEAAAAAAASAA8AAAABAAEAAAASAA4AAAABAAEAAAASAA0AAAABAAEAAAASAAwAAAABAAEAAAASAAsAAAAFAAIAAAASAAoAAAAAAAEAAAASAAkAAAAAAAAAAAARABAAAAAEAAAAAAARAA8AAAABAAEAAAARAA4AAAABAAEAAAARAA0AAAABAAEAAAARAAwAAAABAAEAAAARAAsAAAABAAAAAAAQABAAAAABAAIAAAAQAA8AAAABAAEAAAAQAA4AAAABAAEAAAAQAA0AAAABAAEAAAAQAAwAAAABAAEAAAAQAAsAAAAEAAIAAAAPABAAAAABAAIAAAAPAA8AAAABAAEAAAAPAA4AAAABAAEAAAAPAA0AAAAFAAIAAAAPAAwAAAAAAAEAAAAPAAsAAAAAAAAAAAAOABAAAAAEAAAAAAAOAA8AAAABAAEAAAAOAA4AAAABAAEAAAAOAA0AAAAEAAIAAAANABAAAAAEAAAAAAANAA8AAAABAAEAAAANAA4AAAABAAEAAAANAA0AAAAEAAIAAAAMABAAAAABAAIAAAAMAA8AAAABAAEAAAAMAA4AAAABAAEAAAAMAA0AAAABAAAAAAALABAAAAAEAAAAAAALAA8AAAABAAEAAAALAA4AAAABAAEAAAALAA0AAAAEAAIAAAAKABAAAAABAAIAAAAKAA8AAAABAAEAAAAKAA4AAAABAAEAAAAKAA0AAAABAAAAAAAJABAAAAAEAAAAAAAJAA8AAAABAAEAAAAJAA4AAAABAAEAAAAJAA0AAAAEAAIAAAAIABAAAAAEAAAAAAAIAA8AAAABAAEAAAAIAA4AAAABAAEAAAAIAA0AAAABAAAAAAAHABAAAAABAAIAAAAHAA8AAAAFAAIAAAAHAA4AAAAFAAEAAAAHAA0AAAAAAAAAAAAHAAYAAAAEAAAAAAAGABAAAAAAAAIAAAAGAA8AAAAAAAAAAAAGAAYAAAABAAIAAAAFAAYAAAABAAIAAAAFAAUAAAABAAEAAAAEAAcAAAACAAIAAAAEAAYAAAADAAAAAAAEAAUAAAABAAEAAAADAAcAAAABAAIAAAADAAYAAAABAAEAAAADAAUAAAABAAEAAAADAAQAAAABAAEAAAACAAcAAAAAAAIAAAACAAYAAAAFAAAAAAACAAUAAAABAAEAAAACAAQAAAABAAEAAAABAAYAAAAEAAAAAAABAAUAAAABAAEAAAABAAQAAAABAAEAAAAAABAAAAACAAIAAAAAAA8AAAACAAEAAAAAAA4AAAACAAAAAAAAAAYAAAAEAAAAAAAAAAUAAAABAAEAAAD//xAAAAAEAAAAAAD//w8AAAABAAEAAAD//w4AAAAEAAIAAAD//wYAAAAEAAAAAAD//wUAAAABAAEAAAD+/xAAAAAEAAAAAAD+/w8AAAABAAEAAAD+/w4AAAAEAAIAAAD9/xAAAAABAAIAAAD9/w8AAAABAAEAAAD9/w4AAAABAAAAAAD9/wQAAAABAAEAAAD8/xAAAAAEAAAAAAD8/w8AAAABAAEAAAD8/w4AAAABAAAAAAD8/wQAAAAFAAIAAAD7/xAAAAABAAIAAAD7/w8AAAABAAEAAAD7/w4AAAAEAAIAAAD6/xAAAAABAAIAAAD6/w8AAAABAAEAAAD6/w4AAAAEAAIAAAD5/xAAAAABAAIAAAD5/w8AAAABAAEAAAD5/w4AAAAEAAIAAAD4/xAAAAABAAIAAAD4/w8AAAABAAEAAAD4/w4AAAADAAIAAAD4/w0AAAADAAEAAAD3/xAAAAABAAIAAAD3/w8AAAABAAEAAAD3/w4AAAABAAEAAAD3/w0AAAABAAEAAAD3/wwAAAABAAEAAAD2/xAAAAAEAAAAAAD2/w8AAAABAAEAAAD2/w4AAAABAAEAAAD2/w0AAAABAAEAAAD2/wwAAAABAAEAAAD1/xAAAAABAAIAAAD1/w8AAAABAAEAAAD1/w4AAAABAAEAAAD1/w0AAAABAAEAAAD1/wwAAAABAAEAAAD0/xAAAAABAAIAAAD0/w8AAAABAAEAAAD0/w4AAAABAAEAAAD0/w0AAAABAAEAAAD0/wwAAAABAAEAAADz/xAAAAABAAIAAADz/w8AAAABAAEAAADz/w4AAAABAAEAAADz/w0AAAABAAEAAADz/wwAAAABAAEAAADz/wsAAAADAAIAAADz/woAAAACAAEAAADz/wkAAAACAAEAAADz/wgAAAADAAEAAADz/wcAAAACAAAAAADy/xAAAAAEAAAAAADy/w8AAAABAAEAAADy/w4AAAABAAEAAADy/w0AAAABAAEAAADy/wwAAAABAAEAAADy/wsAAAABAAEAAADy/woAAAABAAEAAADy/wkAAAABAAEAAADy/wgAAAABAAEAAADy/wcAAAAEAAIAAADx/xAAAAABAAIAAADx/w8AAAABAAEAAADx/w4AAAABAAEAAADx/w0AAAABAAEAAADx/wwAAAABAAEAAADx/wsAAAABAAEAAADx/woAAAAFAAIAAADx/wkAAAAAAAEAAADx/wgAAAAAAAEAAADx/wcAAAAAAAAAAADw/xAAAAABAAIAAADw/w8AAAABAAEAAADw/w4AAAABAAEAAADw/w0AAAAFAAIAAADv/xAAAAAAAAIAAADv/w8AAAAAAAEAAADu/xAAAAAIAAEAAADu/w8AAAAIAAAAAADt/xAAAAAHAAEAAADt/w8AAAAJAAIAAADv/w4AAAAFAAAAAADv/w0AAAABAAAAAADu/w4AAAAAAAIAAADu/w0AAAAAAAAAAADs/wQAAAACAAIAAADs/wMAAAADAAEAAADs/wIAAAACAAEAAADs/wEAAAACAAAAAADr/wQAAAAEAAAAAADr/wMAAAABAAEAAADr/wIAAAABAAEAAADr/wEAAAABAAAAAADq/wQAAAABAAIAAADq/wMAAAABAAEAAADq/wIAAAABAAEAAADq/wEAAAAEAAIAAADp/wQAAAABAAIAAADp/wMAAAABAAEAAADp/wIAAAABAAEAAADp/wEAAAABAAAAAADo/wQAAAAAAAIAAADo/wMAAAAAAAEAAADo/wIAAAAAAAEAAADo/wEAAAAAAAAAAAADAAAAAAABAAEAAAADAP//AAABAAEAAAACAAEAAAABAAEAAAACAAAAAAABAAEAAAACAP//AAABAAEAAAABAAEAAAABAAEAAAABAAAAAAABAAEAAAABAP//AAABAAEAAAAAAAEAAAABAAEAAAAAAAAAAAABAAEAAAAAAP//AAABAAEAAAD//wEAAAAFAAIAAAD//wAAAAAFAAEAAAD/////AAAAAAEAAAD+/wIAAAABAAEAAAAHAAIAAAACAAEAAAAHAAEAAAADAAEAAAAHAAAAAAADAAEAAAAHAP//AAADAAEAAAAHAP7/AAADAAEAAAAHAP3/AAACAAAAAAAGAAEAAAABAAEAAAAGAAAAAAABAAEAAAAGAP//AAABAAEAAAAGAP7/AAABAAEAAAAGAP3/AAAEAAIAAAAFAAEAAAABAAEAAAAFAAAAAAABAAEAAAAFAP//AAABAAEAAAAFAP7/AAABAAEAAAAFAP3/AAAEAAIAAAAEAAAAAAABAAEAAAAEAP//AAABAAEAAAAEAP7/AAABAAEAAAAEAP3/AAAEAAIAAAADAP7/AAABAAEAAAADAP3/AAADAAIAAAACAP7/AAABAAEAAAACAP3/AAABAAEAAAABAP7/AAABAAEAAAABAP3/AAABAAEAAAAAAP7/AAABAAEAAAAAAP3/AAABAAEAAAD///7/AAAAAAEAAAD///3/AAAFAAAAAAADAPz/AAACAAEAAAADAPv/AAACAAEAAAADAPr/AAACAAAAAAACAPz/AAABAAEAAAACAPv/AAABAAEAAAACAPr/AAAEAAIAAAABAPz/AAABAAEAAAABAPv/AAABAAEAAAABAPr/AAABAAAAAAAAAPz/AAABAAEAAAAAAPv/AAABAAEAAAAAAPr/AAAEAAIAAAD///z/AAABAAEAAAD///v/AAABAAEAAAD///r/AAABAAAAAAD+//z/AAABAAEAAAD+//v/AAABAAEAAAD+//r/AAAEAAIAAAD9/wMAAAABAAEAAAD9/wIAAAABAAEAAAD9//z/AAABAAEAAAD9//v/AAABAAEAAAD9//r/AAAEAAIAAAD8/wMAAAAAAAEAAAD8/wIAAAAAAAEAAAD8//z/AAAAAAEAAAD8//v/AAAAAAEAAAD8//r/AAAAAAAAAAD7/wQAAAAEAAIAAAD6/wQAAAAEAAIAAAD5/wQAAAAAAAAAAAD+/wYAAAAEAAAAAAD+/wUAAAABAAEAAAD9/wYAAAABAAIAAAD9/wUAAAABAAEAAAD8/wYAAAABAAIAAAD8/wUAAAABAAEAAAD7/wYAAAABAAIAAAD7/wUAAAABAAEAAAD6/wYAAAAAAAIAAAD6/wUAAAAFAAAAAAD5/wUAAAAAAAIAAAD3/wsAAAAEAAIAAAD2/wsAAAABAAAAAAD1/wsAAAAEAAIAAAD0/wsAAAABAAAAAAD4/wwAAAACAAEAAAD4/wsAAAACAAAAAAAYAAgAAAAJAAEAAAAYAAcAAAAIAAEAAAAYAAYAAAAIAAAAAAAXAAgAAAAHAAEAAAAXAAcAAAAHAAEAAAAXAAYAAAAKAAIAAAAWAAgAAAAHAAEAAAAWAAcAAAAHAAEAAAAWAAYAAAAKAAIAAAAVAAgAAAALAAEAAAAVAAcAAAALAAEAAAAVAAYAAAAGAAAAAAAVAAUAAAAIAAIAAAAVAAQAAAAJAAEAAAAVAAMAAAAJAAEAAAAVAAIAAAAIAAAAAAAUAAUAAAAKAAAAAAAUAAQAAAAHAAEAAAAUAAMAAAAHAAEAAAAUAAIAAAAKAAIAAAATAAUAAAAHAAIAAAATAAQAAAAHAAEAAAATAAMAAAAHAAEAAAATAAIAAAAHAAAAAAASAAUAAAAGAAIAAAASAAQAAAAGAAEAAAASAAMAAAALAAEAAAASAAIAAAAGAAAAAADs/xAAAAAHAAEAAADs/w8AAAAHAAEAAADr/xAAAAAHAAEAAADr/w8AAAAHAAEAAADq/xAAAAALAAAAAADq/w8AAAAHAAEAAADq/w4AAAAHAAEAAADp/xAAAAAKAAAAAADp/w8AAAAHAAEAAADp/w4AAAAHAAEAAADo/xAAAAAGAAIAAADo/w8AAAAGAAEAAADo/w4AAAAGAAEAAAALAAQAAAACAAAAAAALAAUAAAADAAEAAAAKAAUAAAABAAEAAAAKAAQAAAAEAAIAAAAIAAYAAAAEAAAAAAALAAYAAAACAAIAAAAKAAYAAAABAAIAAAAJAAYAAAAEAAAAAAD8//3/AAAAAAIAAAD9//3/AAAEAAAAAAD+//3/AAAEAAAAAAD+/wEAAAABAAAAAAD9/wEAAAAEAAIAAAD8/wEAAAAAAAAAAADq/w0AAAAHAAAAAADp/w0AAAAKAAIAAADo/w0AAAAGAAAAAADr/w0AAAAIAAAAAADr/w4AAAAJAAIAAADq/xEAAAAGAAIAAADr/xEAAAAHAAIAAADs/xEAAAAHAAIAAADt/xEAAAAKAAAAAADu/xEAAAAIAAIAAADs/w4AAAAHAAAAAADt/w4AAAAIAAAAAADw/wwAAAAFAAEAAADw/wsAAAAAAAEAAADw/woAAAAAAAAAAAA=")
tile_set = ExtResource("2_eidu2")
collision_enabled = false
collision_visibility_mode = 1

[node name="MapBakedCollision" type="StaticBody2D" parent="World"]
collision_layer = 2
script = ExtResource("2_nwej5")

[node name="Camera2D" type="Camera2D" parent="World"]
zoom = Vector2(1.25, 1.25)

[node name="UI" type="CanvasLayer" parent="."]

[node name="UI" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="TimerLabel" type="Label" parent="UI/UI"]
custom_minimum_size = Vector2(64, 64)
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -39.0
grow_horizontal = 2
grow_vertical = 0
size_flags_horizontal = 3
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 16
theme_override_fonts/font = ExtResource("7_oqpe0")
theme_override_font_sizes/font_size = 32
text = "2"
horizontal_alignment = 1
vertical_alignment = 1

[node name="PlayerUIContainer" type="HBoxContainer" parent="UI/UI"]
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
grow_horizontal = 2

[node name="Label" type="Label" parent="UI/UI/PlayerUIContainer"]
custom_minimum_size = Vector2(64, 64)
layout_mode = 2
size_flags_horizontal = 3
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 16
theme_override_fonts/font = ExtResource("7_oqpe0")
theme_override_font_sizes/font_size = 32
text = "2"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Label2" type="Label" parent="UI/UI/PlayerUIContainer"]
custom_minimum_size = Vector2(64, 64)
layout_mode = 2
size_flags_horizontal = 3
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 16
theme_override_fonts/font = ExtResource("7_oqpe0")
theme_override_font_sizes/font_size = 32
text = "2"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Label3" type="Label" parent="UI/UI/PlayerUIContainer"]
custom_minimum_size = Vector2(64, 64)
layout_mode = 2
size_flags_horizontal = 3
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 16
theme_override_fonts/font = ExtResource("7_oqpe0")
theme_override_font_sizes/font_size = 32
text = "2"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Label4" type="Label" parent="UI/UI/PlayerUIContainer"]
custom_minimum_size = Vector2(64, 64)
layout_mode = 2
size_flags_horizontal = 3
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 16
theme_override_fonts/font = ExtResource("7_oqpe0")
theme_override_font_sizes/font_size = 32
text = "2"
horizontal_alignment = 1
vertical_alignment = 1

[node name="MinigameManager" type="Node" parent="."]
script = ExtResource("3_0x8ty")
game_name = "Mountain Climbers"

[node name="GameManager" type="Node" parent="." node_paths=PackedStringArray("minigame_manager", "spawn_points", "world", "collision_baker", "tilemap_layer", "camera", "player_ui_container", "timer_label", "hill")]
script = ExtResource("4_ua0r1")
game_duration = 180.0
respawn_delay = 5.0
minigame_manager = NodePath("../MinigameManager")
player_prefab = ExtResource("2_udcp7")
spawn_points = NodePath("../World/SpawnPoints")
world = NodePath("../World")
collision_baker = NodePath("../World/MapBakedCollision")
tilemap_layer = NodePath("../World/Map")
camera = NodePath("../World/Camera2D")
player_ui_prefab = ExtResource("11_63vnd")
player_ui_container = NodePath("../UI/UI/PlayerUIContainer")
timer_label = NodePath("../UI/UI/TimerLabel")
hill = NodePath("../World/Hill")

[node name="BGM" type="AudioStreamPlayer" parent="."]
stream = ExtResource("12_dre1w")
volume_db = -10.0
autoplay = true
bus = &"BGM"
